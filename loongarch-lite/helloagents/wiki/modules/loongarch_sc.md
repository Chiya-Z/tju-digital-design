# loongarch_sc

## ç›®çš„
æä¾›æµ‹è¯•ç¨‹åºçš„æ„å»ºä¸é•œåƒç”Ÿæˆï¼Œç”¨äº TEMU æˆ–ç¡¬ä»¶ä¾§ ROM/RAM åˆå§‹åŒ–ã€‚

## æ¨¡å—æ¦‚è¿°
- **èŒè´£:** æ±‡ç¼–æµ‹è¯•ç¨‹åºç»„ç»‡ã€é“¾æ¥è„šæœ¬ã€é•œåƒè½¬æ¢ç”Ÿæˆ
- **çŠ¶æ€:** ğŸš§å¼€å‘ä¸­
- **æœ€åæ›´æ–°:** 2025-12-27

## è§„èŒƒ

### éœ€æ±‚: ç”Ÿæˆå¯åŠ è½½é•œåƒ
**æ¨¡å—:** loongarch_sc
é€šè¿‡ Makefile ç¼–è¯‘æµ‹è¯•ç¨‹åºï¼Œå¹¶åœ¨ TEMU å·¥ç¨‹æ ¹ç›®å½•ç”Ÿæˆ `inst.bin` ä¸ `data.bin`ã€‚

#### åœºæ™¯: ç¼–è¯‘æµ‹è¯•ç¨‹åº
- `cd TEMU/loongarch_sc && make`
- ç¡®è®¤ `TEMU/` ä¸‹ç”Ÿæˆ `*.bin` æ–‡ä»¶

### éœ€æ±‚: task1 æŒ‡ä»¤æµ‹è¯•ç¨‹åº
**æ¨¡å—:** loongarch_sc
æ–°å¢è¦†ç›– task1 æŒ‡ä»¤é›†çš„æ±‡ç¼–æµ‹è¯•ç¨‹åºï¼Œå¹¶ä¿æŒå›ºå®šåœ°å€æ˜ å°„ï¼ˆ`.text` ä½äº `0x80000000`ï¼Œ`.data` ä½äº `0x80010000`ï¼‰ï¼Œä¾¿äºä¸ TEMU çš„â€œè™šæ‹Ÿåœ°å€æœ€é«˜ä½æ¸… 0 å¾—åˆ°ç‰©ç†åœ°å€â€æ˜ å°„è§„åˆ™ä¸€è‡´ã€‚

#### åœºæ™¯: æ„å»º task1 æµ‹è¯•ç¨‹åº
- `cd TEMU/loongarch_sc && make USER_PROGRAM=task1`
- æˆåŠŸç»“æŸåº”è§¦å‘ `HIT_GOOD_TRAP`ï¼›å¤±è´¥ä¼šè§¦å‘æœªå®ç°æŒ‡ä»¤ï¼ˆä¾¿äºåœ¨åæ±‡ç¼–ä¸­å®šä½ï¼‰
> å¤‡æ³¨: `lu12i.w` çš„ `si20` åœ¨æ±‡ç¼–å™¨ä¾§æŒ‰æœ‰ç¬¦å· 20 ä½ç«‹å³æ•°å¤„ç†ï¼Œè‹¥éœ€è¦ç¼–ç å½¢å¦‚ `0x8xxxx` çš„é«˜ä½å¸¸é‡ï¼Œè¯·ä½¿ç”¨ç­‰ä»·è´Ÿæ•°å†™æ³•ï¼ˆä¾‹å¦‚ `0x80010` å†™ä¸º `-0x7fff0`ï¼‰ã€‚
> å¤‡æ³¨: æµ‹è¯•ç¨‹åºåŒ…å« `fail_1..fail_13` æ ‡è®°ç‚¹ï¼›è‹¥è¿è¡Œæ—¶è§¦å‘ `invalid opcode(pc=...)`ï¼Œå¯é€šè¿‡æŒ‡ä»¤å­—èŠ‚ï¼ˆä¾‹å¦‚ `... 06 00 00 00`ï¼‰å¿«é€Ÿå®šä½å¤±è´¥ç”¨ä¾‹ç¼–å·ã€‚

## APIæ¥å£
ä¸é€‚ç”¨ï¼ˆé€šè¿‡æ–‡ä»¶äº§ç‰©ä¸ä»¿çœŸå™¨/ç¡¬ä»¶å¯¹æ¥ï¼‰ã€‚

## æ•°æ®æ¨¡å‹
- `inst.bin` / `data.bin`ï¼šäºŒè¿›åˆ¶é•œåƒæ–‡ä»¶ï¼ˆç”±æ„å»ºæµç¨‹ç”Ÿæˆï¼‰

## ä¾èµ–
- TEMUï¼š`TEMU/Makefile` ä¼šåŒ…å« `loongarch_sc/src/Makefile.testcase`

## å˜æ›´å†å²
- [202512271020_loongarch_sc_task1_tests](../../history/2025-12/202512271020_loongarch_sc_task1_tests/) - æ–°å¢ task1 æŒ‡ä»¤æµ‹è¯•ç¨‹åºä¸æ„å»ºå¯é…ç½®é¡¹
